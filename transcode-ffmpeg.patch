diff -burNp transcode-1.0.6/export/export_ffmpeg.c transcode-1.0.6-new/export/export_ffmpeg.c
--- transcode-1.0.6/export/export_ffmpeg.c	2008-04-12 11:34:02.000000000 +0200
+++ transcode-1.0.6-new/export/export_ffmpeg.c	2008-10-10 19:34:53.933632052 +0200
@@ -804,8 +804,6 @@ MOD_init
     lavc_venc_context->luma_elim_threshold= lavc_param_luma_elim_threshold;
     lavc_venc_context->chroma_elim_threshold= lavc_param_chroma_elim_threshold;
     lavc_venc_context->rtp_payload_size   = lavc_param_packet_size;
-    if (lavc_param_packet_size)
-        lavc_venc_context->rtp_mode       = 1;
     lavc_venc_context->strict_std_compliance= lavc_param_strict;
     lavc_venc_context->i_quant_factor     = lavc_param_vi_qfactor;
     lavc_venc_context->i_quant_offset     = lavc_param_vi_qoffset;
@@ -999,11 +997,11 @@ MOD_init
     lavc_venc_context->mb_cmp     = lavc_param_mb_cmp;
     lavc_venc_context->ildct_cmp  = lavc_param_ildct_cmp;
     lavc_venc_context->dia_size   = lavc_param_dia_size;
+    lavc_venc_context->trellis    = lavc_param_trell;
     lavc_venc_context->flags |= lavc_param_qpel;
     lavc_venc_context->flags |= lavc_param_gmc;
     lavc_venc_context->flags |= lavc_param_closedgop;
     lavc_venc_context->flags |= lavc_param_trunc;
-    lavc_venc_context->flags |= lavc_param_trell;
     lavc_venc_context->flags |= lavc_param_aic;
     lavc_venc_context->flags |= lavc_param_umv;
     lavc_venc_context->flags |= lavc_param_v4mv;
diff -burNp transcode-1.0.6/export/ffmpeg_cfg.c transcode-1.0.6-new/export/ffmpeg_cfg.c
--- transcode-1.0.6/export/ffmpeg_cfg.c	2004-10-18 04:04:14.000000000 +0200
+++ transcode-1.0.6-new/export/ffmpeg_cfg.c	2008-10-10 19:36:45.264036741 +0200
@@ -192,12 +192,11 @@ struct config lavcopts_conf[]={
     {"predia", &lavc_param_pre_dia_size, CONF_TYPE_INT, CONF_RANGE, -2000, 2000, NULL},
     {"dia", &lavc_param_dia_size, CONF_TYPE_INT, CONF_RANGE, -2000, 2000, NULL},
     {"qpel", &lavc_param_qpel, CONF_TYPE_FLAG, 0, 0, CODEC_FLAG_QPEL, NULL},
-    {"trell", &lavc_param_trell, CONF_TYPE_FLAG, 0, 0, CODEC_FLAG_TRELLIS_QUANT, NULL},
+    {"trell", &lavc_param_trell, CONF_TYPE_FLAG, 0, 0, 1},
     {"last_pred", &lavc_param_last_pred, CONF_TYPE_INT, CONF_RANGE, 0, 2000, NULL},
     {"preme", &lavc_param_pre_me, CONF_TYPE_INT, CONF_RANGE, 0, 2000, NULL},
     {"subq", &lavc_param_me_subpel_quality, CONF_TYPE_INT, CONF_RANGE, 0, 8, NULL},
     {"me_range", &lavc_param_me_range, CONF_TYPE_INT, CONF_RANGE, 0, 16000, NULL},
-    {"aic", &lavc_param_aic, CONF_TYPE_FLAG, 0, 0, CODEC_FLAG_H263P_AIC, NULL},
     {"umv", &lavc_param_umv, CONF_TYPE_FLAG, 0, 0, CODEC_FLAG_H263P_UMV, NULL},
     {"ibias", &lavc_param_ibias, CONF_TYPE_INT, CONF_RANGE, -512, 512, NULL},
     {"pbias", &lavc_param_pbias, CONF_TYPE_INT, CONF_RANGE, -512, 512, NULL},
diff -burNp transcode-1.0.6/filter/pp/filter_pp.c transcode-1.0.6-new/filter/pp/filter_pp.c
--- transcode-1.0.6/filter/pp/filter_pp.c	2005-07-04 09:23:01.000000000 +0200
+++ transcode-1.0.6-new/filter/pp/filter_pp.c	2008-10-10 19:45:34.916907457 +0200
@@ -35,7 +35,7 @@
 #include <ctype.h>
 #include <inttypes.h>
 
-#include "postprocess.h"
+#include <libpostproc/postprocess.h>
 
 static pp_mode_t *mode[MAX_FILTER];
 static pp_context_t *context[MAX_FILTER];
diff -burNp transcode-1.0.6/import/decode_lavc.c transcode-1.0.6-new/import/decode_lavc.c
--- transcode-1.0.6/import/decode_lavc.c	2008-04-12 11:34:02.000000000 +0200
+++ transcode-1.0.6-new/import/decode_lavc.c	2008-10-10 19:25:32.180368738 +0200
@@ -196,7 +196,7 @@ void decode_lavc(decode_t *decode)
   lavc_dec_context->width  = x_dim;
   lavc_dec_context->height = y_dim;
 
-  lavc_dec_context->error_resilience = 2;
+  lavc_dec_context->error_recognition = 2;
   lavc_dec_context->error_concealment = 3;
   lavc_dec_context->workaround_bugs = FF_BUG_AUTODETECT;
 
diff -burNp transcode-1.0.6/import/import_ffmpeg.c transcode-1.0.6-new/import/import_ffmpeg.c
--- transcode-1.0.6/import/import_ffmpeg.c	2008-04-12 11:34:02.000000000 +0200
+++ transcode-1.0.6-new/import/import_ffmpeg.c	2008-10-10 19:24:45.070567076 +0200
@@ -361,7 +361,7 @@ do_avi:
     lavc_dec_context->height = y_dim;
 
     if (vob->decolor) lavc_dec_context->flags |= CODEC_FLAG_GRAY;
-    lavc_dec_context->error_resilience = FF_ER_COMPLIANT;
+    lavc_dec_context->error_recognition = FF_ER_COMPLIANT;
     lavc_dec_context->error_concealment = FF_EC_GUESS_MVS|FF_EC_DEBLOCK;
     lavc_dec_context->workaround_bugs = workarounds;
     lavc_dec_context->codec_tag= (fourCC[0]<<24) | (fourCC[1]<<16) |
